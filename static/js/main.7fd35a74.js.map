{"version":3,"file":"static/js/main.7fd35a74.js","mappings":"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","sources":["index.js"],"sourcesContent":["// API Key\nconst API_KEY = \"168771779c71f3d64106d8a88376808a\";\n\n// Tab Switching \nconst userTab = document.querySelector(\"[data-userWeather]\");\nconst searchTab = document.querySelector(\"[data-searchWeather]\");\nconst searchForm = document.querySelector(\"[data-searchForm]\");\nconst userInfoContainer = document.querySelector(\".userInfoContainer\");\nconst grantAccessContainer = document.querySelector(\n    \".grantLocationContainer\"\n);\nconst loadingContainer = document.querySelector('.loadingContainer');\n\nconst notFound = document.querySelector('.errorContainer');\nconst errorBtn = document.querySelector('[data-errorButton]');\nconst errorText = document.querySelector('[data-errorText]');\nconst errorImage = document.querySelector('[data-errorImg]');\n\nlet currentTab = userTab;\ncurrentTab.classList.add(\"currentTab\");\ngetFromSessionStorage();\n// console.log(userTab);\n// console.log(searchTab);\n\nfunction switchTab(newTab) {\n    notFound.classList.remove(\"active\");\n    // check if newTab is already selected or not \n    if (currentTab != newTab) {\n        currentTab.classList.remove(\"currentTab\");\n        currentTab = newTab;\n        currentTab.classList.add(\"currentTab\");\n\n        // Check which TAb is Selected - search / your\n\n        // If Search Form not contains active class then add  [Search Weather]\n        if (!searchForm.classList.contains(\"active\")) {\n            searchForm.classList.add(\"active\");\n            userInfoContainer.classList.remove(\"active\");\n            grantAccessContainer.classList.remove(\"active\");\n        }\n        // Your Weather\n        else {\n            searchForm.classList.remove(\"active\");\n            userInfoContainer.classList.remove(\"active\");\n            getFromSessionStorage();\n        }\n    }\n}\n\nuserTab.addEventListener('click', () => {\n    switchTab(userTab);\n});\n\nsearchTab.addEventListener('click', () => {\n    switchTab(searchTab);\n});\n\n\nfunction getFromSessionStorage() {\n    const localCoordinates = sessionStorage.getItem(\"userCoordinates\");\n    // console.log(localCoordinates);\n\n    // Local Coordinates Not present - Grant Access Container\n    if (!localCoordinates) {\n        grantAccessContainer.classList.add('active');\n    }\n    else {\n        const coordinates = JSON.parse(localCoordinates);\n        fetchWeatherInfo(coordinates);\n    }\n}\n\nasync function fetchWeatherInfo(coordinates) {\n    const { lat, lon } = coordinates;\n    // Remove Active Class from the Grant access Container\n    grantAccessContainer.classList.remove('active');\n\n    // loading \n    loadingContainer.classList.add('active');\n\n    // try - catch Block\n    try {\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`);\n\n        const data = await response.json();\n        if (!data.sys) {\n            throw data;\n        }\n        loadingContainer.classList.remove('active');\n        userInfoContainer.classList.add('active');\n        renderWeatherInfo(data);\n    }\n    catch (err) {\n        loadingContainer.classList.remove('active');\n        notFound.classList.add('active');\n        errorImage.style.display = 'none';\n        errorText.innerText = `Error: ${err?.message}`;\n        errorBtn.style.display = 'block';\n        errorBtn.addEventListener(\"click\", fetchWeatherInfo);\n    }\n}\n\n// Render Weather On UI\nfunction renderWeatherInfo(weatherInfo) {\n    const cityName = document.querySelector('[data-cityName]');\n    const countryFlag = document.querySelector('[data-countryFlag]');\n    const description = document.querySelector('[data-weatherDesc]');\n    const weatherIcon = document.querySelector('[data-weatherIcon]');\n    const temp = document.querySelector('[data-temp]');\n    const windspeed = document.querySelector('[data-windspeed]');\n    const humidity = document.querySelector('[data-humidity]');\n    const clouds = document.querySelector('[data-clouds]');\n\n    cityName.innerText = weatherInfo?.name;\n    countryFlag.src = `https://flagcdn.com/144x108/${weatherInfo?.sys?.country.toLowerCase()}.png`;\n    description.innerText = weatherInfo?.weather?.[0]?.description;\n    weatherIcon.src = `http://openweathermap.org/img/w/${weatherInfo?.weather?.[0]?.icon}.png`;\n    temp.innerText = `${weatherInfo?.main?.temp.toFixed(2)} Â°C`;\n    windspeed.innerText = `${weatherInfo?.wind?.speed.toFixed(2)} m/s`;\n    humidity.innerText = `${weatherInfo?.main?.humidity.toFixed(2)} %`;\n    clouds.innerText = `${weatherInfo?.clouds?.all.toFixed(2)} %`;\n}\n\nconst grantAccessButton = document.querySelector('[data-grantAccess]');\n\nfunction getLocation() {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(showPosition);\n    }\n    else {\n        grantAccessButton.style.display = 'none';\n    }\n}\n\nfunction showPosition(position) {\n    const userCoordinates = {\n        lat: position.coords.latitude,\n        lon: position.coords.longitude\n    };\n    sessionStorage.setItem(\"userCoordinates\", JSON.stringify(userCoordinates));\n    fetchWeatherInfo(userCoordinates);\n}\n\ngrantAccessButton.addEventListener('click', getLocation);\n\n\n// Search for weather\nconst searchInput = document.querySelector('[data-searchInput]');\n\nsearchForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    if (searchInput.value === \"\") {\n        return;\n    }\n    // console.log(searchInput.value);\n    fetchSearchWeatherInfo(searchInput.value);\n    searchInput.value = \"\";\n});\n\n\nasync function fetchSearchWeatherInfo(city) {\n    loadingContainer.classList.add(\"active\");\n    userInfoContainer.classList.remove(\"active\");\n    grantAccessContainer.classList.remove(\"active\");\n    notFound.classList.remove(\"active\");\n    try {\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`);\n\n        const data = await response.json();\n        if (!data.sys) {\n            throw data;\n        }\n        loadingContainer.classList.remove('active');\n        userInfoContainer.classList.add('active');\n        renderWeatherInfo(data);\n    }\n    catch (err) {\n        loadingContainer.classList.remove('active');\n        userInfoContainer.classList.remove('active');\n        notFound.classList.add('active');\n        errorText.innerText = `${err?.message}`;\n        errorBtn.style.display = \"none\";\n    }\n}\n\n"],"names":["API_KEY","userTab","document","querySelector","searchTab","searchForm","userInfoContainer","grantAccessContainer","loadingContainer","notFound","errorBtn","errorText","errorImage","currentTab","switchTab","newTab","classList","remove","add","contains","getFromSessionStorage","localCoordinates","sessionStorage","getItem","fetchWeatherInfo","JSON","parse","async","coordinates","lat","lon","response","fetch","data","json","sys","renderWeatherInfo","err","style","display","innerText","message","addEventListener","weatherInfo","_weatherInfo$sys","_weatherInfo$weather","_weatherInfo$weather$","_weatherInfo$weather2","_weatherInfo$weather3","_weatherInfo$main","_weatherInfo$wind","_weatherInfo$main2","_weatherInfo$clouds","cityName","countryFlag","description","weatherIcon","temp","windspeed","humidity","clouds","name","src","country","toLowerCase","weather","icon","main","toFixed","wind","speed","all","grantAccessButton","showPosition","position","userCoordinates","coords","latitude","longitude","setItem","stringify","navigator","geolocation","getCurrentPosition","searchInput","e","preventDefault","value","city","fetchSearchWeatherInfo"],"sourceRoot":""}